

// -ramした文字コードをテキストボックスに出力
function sub(){
    // 1 ～ 10の整数で乱数生成
    ram = Math.floor(Math.random() * 10) + 1;
    // 復号ボタンを押せるようになる
    button.disabled = false;
    let value = document.getElementById("gettext").value;
    let result = value.split('');
    flag = 1;

    // -ramした文字コード(配列)を文字列にする
    for(i = 0;i < value.length;i++){
        result[i] = result[i].charCodeAt();
        result[i] = parseInt(result[i], 10);
        result[i] -= ram;
        str = result.join(' ');
    }
    document.getElementById("outtext").value = str;
}

// +ramした文字コードをテキストボックスに出力
function add(){
    // 1 ～ 10の整数で乱数生成
    ram = Math.floor(Math.random() * 10) + 1;
    // 復号ボタンを押せるようになる
    button.disabled = false;
    let value = document.getElementById("gettext").value;
    let result = value.split('');
    flag = -1;

    // +ramした文字コード(配列)を文字列にする
    for(i = 0;i<result.length;i++){
        result[i] = result[i].charCodeAt();
        result[i] = parseInt(result[i], 10);
        result[i] +=  ram;
        str = result.join(' ');
    }
    document.getElementById("outtext").value = str;
}

// 文字コードを文字へ変換
function Decryption() {
    // 復号ボタンを押せなくなる
    button.disabled = true;
    // 文字列を一文字ずつ配列に置換
    let value = document.getElementById("outtext").value;
    let result = value.split(' ');

    // +-ramされた文字コードを文字へ変換
    for(i = 0;i<result.length;i++){
        // let tmp = result[i];
        result[i] = parseInt(result[i]) + (ram * flag);
        result[i] = String.fromCharCode(result[i]);
        str = result.join('');
    }
    document.getElementById("outtext").value = str;
}